<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

<div class="container" style="justify-content: center;align-items: center;">
  <div class="card" style="width:30rem; margin-left: 350px; text-align:center; ">
    <img class="card-img-top" src="../../assets/aa835e4a2e2d609558901601d25ed01c.jpg" alt="Card image cap">
    
      <div class="card-body">
        <h1 class="card-title" style="margin-top: 4px;"> <b> {{ recettes[0].nom }} </b> </h1>
        <p class="card-text" style="text-align:center"><em>Temps de préparation</em> : {{ recettes[0].tempsDePreparation }}</p>
        <p class="card-text" style="text-align:center"><em> Difficulté </em>: {{ recettes[0].difficulte }} </p>
        <p class="card-text" style="text-align:center"><em> Temps de cuisson </em>: {{ recettes[0].tempsDeCuisson }} </p>
        <p class="card-text" style="text-align:center"> <em> Nombre de personnes </em> : {{ recettes[0].nombrePersonne }}</p>
        
        
        <p style="text-align: center"> <em> Liste d'ingrédients : </em> </p>
        
        <ul>
        <li *ngFor="let ing of recettes[0].ingredients; index as index">
          <p style="text-align:center"> {{ index + 1 }} - {{ ing.nom }} ({{ ing.quantite }} {{ ing.unite}})  </p>
        </li>
        </ul>

      <p class="center" style="font-size: 16px; text-decoration: underline;">De {{ recettes[0].recetteAuteur}} le {{ recettes[0].recetteDate}}</p>
    
     </div>  
  </div>

  <br> 
  
 
  
  <div *ngIf="this.userServ.estConnecte() === true" id="commentaire">
    <div class="card horizontal">
        <div class="card-content">
          <h4 style="margin-left: 220px;">Ajoutez ici votre commentaire à cette recette</h4>
          <textarea #comm style="margin-right: 20px;"></textarea>
          <a (click)="envoyerCommentaire(comm.value);" style="margin-left: 530px;" class="btn btn-default">Poster</a>
        </div>
      </div>
    <h4 style="text-align: center; margin-left: 20px;">Nombre de commentaires : {{ commentaires.length }}</h4>

  <div class="row" *ngFor="let x of commentaires; index as index">
    <div class="card w-100">
      <div class="card-content">        
        <p style="text-align: center;">Commentaire n°{{ index + 1 }}</p>
        
        <p> {{ x.auteurPseudo }} |  {{ x.commentaireDate }} | </p>
        <br>
        <p style="font-size: 18px;">{{ x.contenuCommentaire }}</p>  
      
      </div>
    </div>
  
      <button type="button" class="btn btn-primary" *ngIf="this.userServ.getUserAuthenticated().pseudo == x.auteurPseudo" (click)="deleteCommentaire(x._id)" style="text-align: center; margin: auto; display: flex;">Supprimer ce commentaire</button>
 

  </div>
  </div>

</div>